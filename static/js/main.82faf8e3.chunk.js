(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{10:function(e,t,n){e.exports={wrapForm:"pages_wrapForm__1HuDN",form:"pages_form__GMR7J",profile:"pages_profile__Jr63K",wrapEditForm:"pages_wrapEditForm__24NCV",sidebar:"pages_sidebar__3SxJ-",buttons:"pages_buttons__2KrYN",profileButton:"pages_profileButton__1ivx0",buttonPrimary:"pages_buttonPrimary__2nG6b"}},102:function(e,t,n){e.exports={root:"ModalOverlay_root__2Xt1g"}},112:function(e,t,n){},21:function(e,t,n){e.exports={root:"BurgerConstructor_root__CiQi_",content:"BurgerConstructor_content__3UWiF",scrollTrackVertical:"BurgerConstructor_scrollTrackVertical__1FXF2",scrollThumbVertical:"BurgerConstructor_scrollThumbVertical__1THYX",totalPrice:"BurgerConstructor_totalPrice__Drp2r",price:"BurgerConstructor_price__32APl",emptyCart:"BurgerConstructor_emptyCart__1iVEo"}},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(31),a=n.n(s),o=(n(112),n(5)),i=n(4),u=n(8),l=n(26),d=n.n(l),j=n(27),b=n.n(j),O=n(0),p=function(){var e=Object(u.h)().pathname;return Object(O.jsx)("header",{className:d()(b.a.header,"m-10"),children:Object(O.jsx)("nav",{className:d()(b.a.navigation,"mt-4 mb-4"),children:Object(O.jsxs)("ul",{className:b.a.content,children:[Object(O.jsxs)("li",{className:b.a.links,children:[Object(O.jsxs)(o.c,{to:"/",className:"pl-5 pr-5 mr-2",isActive:function(){return e.includes("ingredients")||"/"===e},exact:!0,children:[Object(O.jsx)(i.BurgerIcon,{type:"secondary"}),Object(O.jsx)("span",{className:"ml-2 text text_type_main-default",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(O.jsxs)(o.c,{to:"/profile/orders",className:"pl-5 pr-5",children:[Object(O.jsx)(i.ListIcon,{type:"secondary"}),Object(O.jsx)("span",{className:"ml-2 text text_type_main-default",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(O.jsx)("li",{className:b.a.logo,children:Object(O.jsx)(o.b,{to:"/",children:Object(O.jsx)(i.Logo,{})})}),Object(O.jsx)("li",{className:b.a.login,children:Object(O.jsxs)(o.c,{to:"/profile",exact:!0,className:"pl-5 pr-5",children:[Object(O.jsx)(i.ProfileIcon,{type:"secondary"}),Object(O.jsx)("span",{className:"ml-2 text text_type_main-default",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})})},f=n(12),m=function(){return Object(f.b)()},h=function(){return Object(f.b)()},_=f.c,g=n(19),x=n(2),v=n(9),y="https://norma.nomoreparties.space/api/",T="INIT_USER",S="AUTHORIZED",I="GET_USER",N="LOGIN",E="LOGOUT",k="PATCH_USER",w="POST_LOGIN_USER",R="LOGIN_USER_SUCCESS",C="LOGIN_USER_FAILED",D="POST_LOGOUT",F="LOGOUT_SUCCESS",P="LOGOUT_FAILED",U="POST_UPDATE_TOKEN",L="UPDATE_TOKEN_SUCCESS",B="UPDATE_TOKEN_FAILED",A="GET_INFO_USER",q="GET_INFO_SUCCESS",G="GET_INFO_FAILED",H="PATCH_INFO_USER",V="PATCH_INFO_FAILED",M="PATCH_INFO_SUCCESS",J="POST_REGISTRY_USER",z="RESPONSE_SUCCESS_REGISTRY",K="RESPONSE_FAILED_REGISTRY",W="POST_PASSWORD_REQUEST",X="RESPONSE_FAILED_PASSWORD",Y="RESPONSE_SUCCESS_PASSWORD",Q="POST_NEW_PASSWORD_REQUEST",Z="RESPONSE_FAILED_NEW_PASSWORD",$="RESPONSE_SUCCESS_NEW_PASSWORD",ee=function(e){return function(t){t(oe()),fetch("".concat(y,"auth/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e.refreshToken})}).then((function(e){if(!e.ok)throw t(ie()),new Error("Network response was not OK");return e.json()})).then((function(){t(ue())})).catch((function(e){t(ie()),console.error("There has been a problem with fetch operation:",e)}))}};function te(e){return function(t){var n;return t(le()),fetch("".concat(y,"auth/token"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:null!==(n=e.accessToken)&&void 0!==n?n:""},body:JSON.stringify({token:e.refreshToken})}).then((function(e){if(!e.ok)throw t(de()),new Error("Network response was not OK");return e.json()})).then((function(e){t(je(e.success,e.accessToken,e.refreshToken))})).catch((function(e){t(de()),console.error("There has been a problem with fetch operation:",e)}))}}function ne(e){return function(t){var n;t(be()),fetch("".concat(y,"auth/user"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:null!==(n=e.accessToken)&&void 0!==n?n:""}}).then((function(e){if(!e.ok)throw t(Oe()),new Error("Network response was not OK");return e.json()})).then((function(e){t(pe(e.success,{email:e.user.email,name:e.user.name}))})).catch((function(e){t(Oe()),console.error("There has been a problem with fetch operation:",e)}))}}function re(e,t){return function(n){n(fe()),fetch("".concat(y,"auth/user"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw n(me()),new Error("Network response was not OK");return e.json()})).then((function(e){n(he(e.success,{email:e.user.email,name:e.user.name}))})).catch((function(e){n(me()),console.error("There has been a problem with fetch operation:",e)}))}}var ce=function(){return{type:w}},se=function(){return{type:C}},ae=function(e,t,n,r){return{type:R,success:e,accessToken:t,refreshToken:n,user:r}},oe=function(){return{type:D}},ie=function(){return{type:P}},ue=function(){return{type:F}},le=function(){return{type:U}},de=function(){return{type:B}},je=function(e,t,n){return{type:L,success:e,accessToken:t,refreshToken:n}},be=function(){return{type:A}},Oe=function(){return{type:G}},pe=function(e,t){return{type:q,success:e,user:t}},fe=function(){return{type:H}},me=function(){return{type:V}},he=function(e,t){return{type:M,success:e,user:t}},_e=function(){return{type:K}},ge=function(){return{type:J}},xe=function(e,t,n){return{type:z,success:e,accessToken:t,refreshToken:n}},ve=function(){return{type:X}},ye=function(){return{type:W}},Te=function(e,t){return{type:Y,massage:e,success:t}},Se=function(){return{type:Z}},Ie=function(){return{type:Q}},Ne=function(e,t){return{type:$,massage:e,success:t}},Ee=n(10),ke=n.n(Ee);function we(){var e=Object(r.useState)({email:"",password:""}),t=Object(v.a)(e,2),n=t[0],c=t[1],s=h(),a=Object(u.h)().pathname,l=function(e){c(Object(x.a)(Object(x.a)({},n),{},Object(g.a)({},e.currentTarget.name,e.currentTarget.value.trim())))};return Object(O.jsxs)("div",{className:ke.a.wrapForm,children:[Object(O.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0412\u0445\u043e\u0434"}),Object(O.jsxs)("form",{className:"".concat(ke.a.form," mb-20"),onSubmit:function(e){e.preventDefault(),s({type:N,user:n})},children:[Object(O.jsx)(i.Input,{type:"email",placeholder:"E-mail",onChange:l,value:n.email,name:"email"}),Object(O.jsx)(i.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:l,icon:"ShowIcon",value:n.password,name:"password"}),Object(O.jsx)(i.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(O.jsxs)("p",{className:"text text_type_main-default pb-4",children:[Object(O.jsx)("span",{className:"text_color_inactive",children:"\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(O.jsx)(o.b,{to:{pathname:"/register",state:{from:a}},children:" \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(O.jsxs)("p",{className:"text text_type_main-default",children:[Object(O.jsx)("span",{className:"text_color_inactive",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(O.jsx)(o.b,{to:{pathname:"/forgot-password",state:{from:a}},children:" \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})}function Re(){var e,t=_((function(e){return e.user})).getUserInfoSuccess,n=_((function(e){return e.user.user})),c=Object(r.useState)({email:"",name:"",password:""}),s=Object(v.a)(c,2),a=s[0],u=s[1],l=Object(r.useState)(!1),d=Object(v.a)(l,2),j=d[0],b=d[1],p=h();Object(r.useEffect)((function(){p({type:I})}),[p]),Object(r.useEffect)((function(){t&&u((function(e){return Object(x.a)(Object(x.a)({},e),{},{email:n.email,name:n.name})}))}),[t,n.email,n.name]);var f=function(e){b(!0),u(Object(x.a)(Object(x.a)({},a),{},Object(g.a)({},e.currentTarget.name,e.currentTarget.value)))};return Object(O.jsxs)("div",{className:"".concat(ke.a.profile," pl-5 pr-5"),children:[Object(O.jsxs)("div",{className:"sidebar",children:[Object(O.jsxs)("nav",{className:"text text_type_main-medium mb-20",children:[Object(O.jsx)(o.c,{to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(O.jsx)(o.c,{to:"/profile/orders",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(O.jsx)(o.b,{to:"/",onClick:function(e){e.preventDefault(),p({type:E})},children:"\u0412\u044b\u0445\u043e\u0434"})]}),Object(O.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435",Object(O.jsx)("br",{}),"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"]})]}),Object(O.jsx)("div",{className:ke.a.wrapEditForm,children:Object(O.jsxs)("form",{className:"".concat(ke.a.form," mb-20"),onSubmit:function(e){e.preventDefault(),b(!1),p(function(e){return{type:k,user:e}}(a))},children:[Object(O.jsx)(i.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:f,value:null!==(e=a.name)&&void 0!==e?e:"",name:"name",icon:"EditIcon"}),Object(O.jsx)(i.Input,{type:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:f,value:a.email,name:"email",icon:"EditIcon"}),Object(O.jsx)(i.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:f,value:a.password,name:"password",icon:"EditIcon"}),j&&Object(O.jsxs)("div",{className:ke.a.buttons,children:[Object(O.jsx)("div",{className:ke.a.profileButton,children:Object(O.jsx)("button",{className:ke.a.buttonPrimary,type:"button",onClick:function(){u(Object(x.a)(Object(x.a)({},a),{},{email:n.email,name:n.name})),b(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(O.jsx)("div",{className:ke.a.profileButton,children:Object(O.jsx)(i.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})})]})}function Ce(){var e=Object(r.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],s=_((function(e){return e.user})).resetPasswordSuccess,a=m(),l=Object(u.h)().pathname;return s?Object(O.jsx)(u.a,{to:{pathname:"/reset-password",state:{from:l}}}):Object(O.jsxs)("div",{className:ke.a.wrapForm,children:[Object(O.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(O.jsxs)("form",{className:"".concat(ke.a.form," mb-20"),onSubmit:function(e){e.preventDefault(),a(function(e){return function(t){t(ye()),fetch("".concat(y,"password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((function(e){if(!e.ok)throw t(ve()),new Error("Network response was not OK");return e.json()})).then((function(e){t(Te(e.message,e.success))})).catch((function(e){t(ve()),console.error("There has been a problem with fetch operation:",e)}))}}(n))},children:[Object(O.jsx)(i.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",onChange:function(e){c(e.currentTarget.value)},value:n,name:"email"}),Object(O.jsx)(i.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(O.jsxs)("p",{className:"text text_type_main-default",children:[Object(O.jsx)("span",{className:"text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(O.jsx)(o.b,{to:"/login",children:" \u0412\u043e\u0439\u0442\u0438"})]})]})}function De(){var e=Object(r.useState)({name:"",email:"",password:""}),t=Object(v.a)(e,2),n=t[0],c=t[1],s=_((function(e){return e.user})).registerSuccess,a=m(),u=function(e){c(Object(x.a)(Object(x.a)({},n),{},Object(g.a)({},e.currentTarget.name,e.currentTarget.value)))};return Object(O.jsxs)("div",{className:ke.a.wrapForm,children:[Object(O.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),s?"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d":Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{className:"".concat(ke.a.form," mb-20"),onSubmit:function(e){e.preventDefault(),a(function(e){return function(t){t(ge()),fetch("".concat(y,"auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw t(_e()),new Error("Network response was not OK");return e.json()})).then((function(e){t(xe(e.success,e.accessToken,e.refreshToken))})).catch((function(e){t(_e()),console.error("There has been a problem with fetch operation:",e)}))}}(n))},children:[Object(O.jsx)(i.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:u,value:n.name,name:"name"}),Object(O.jsx)(i.Input,{type:"email",placeholder:"E-mail",onChange:u,value:n.email,name:"email"}),Object(O.jsx)(i.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:u,icon:"ShowIcon",value:n.password,name:"password"}),Object(O.jsx)(i.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(O.jsxs)("p",{className:"text text_type_main-default",children:[Object(O.jsx)("span",{className:"text_color_inactive",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(O.jsx)(o.b,{to:"/login",children:" \u0412\u043e\u0439\u0442\u0438"})]})]})]})}function Fe(){var e=Object(r.useState)({password:"",token:""}),t=Object(v.a)(e,2),n=t[0],c=t[1],s=m(),a=function(e){c(Object(x.a)(Object(x.a)({},n),{},Object(g.a)({},e.currentTarget.name,e.currentTarget.value)))};return Object(O.jsxs)("div",{className:ke.a.wrapForm,children:[Object(O.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(O.jsxs)("form",{className:"".concat(ke.a.form," mb-20"),onSubmit:function(e){e.preventDefault(),s(function(e){return function(t){t(Ie()),fetch("".concat(y,"password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw t(Se()),new Error("Network response was not OK");return e.json()})).then((function(e){t(Ne(e.message,e.success))})).catch((function(e){t(Se()),console.error("There has been a problem with fetch operation:",e)}))}}(n))},children:[Object(O.jsx)(i.Input,{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:a,icon:"ShowIcon",value:n.password,name:"password"}),Object(O.jsx)(i.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:a,value:n.token,name:"token"}),Object(O.jsx)(i.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(O.jsxs)("p",{className:"text text_type_main-default",children:[Object(O.jsx)("span",{className:"text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(O.jsx)(o.b,{to:"/login",children:" \u0412\u043e\u0439\u0442\u0438"})]})]})}var Pe,Ue,Le=n(44);!function(e){e.Top="top",e.Bottom="bottom"}(Pe||(Pe={})),function(e){e.IngredientInOrder="ingredientInOrder",e.Ingredient="ingredient"}(Ue||(Ue={}));var Be=n(220),Ae="GET_INGREDIENTS_REQUEST",qe="GET_INGREDIENTS_SUCCESS",Ge="GET_INGREDIENTS_FAILED",He="ADD_INGREDIENT_IN_ORDER",Ve="DELETE_INGREDIENT_IN_ORDER",Me="DELETE_INGREDIENTS",Je="ADD_INGREDIENT_BUN_IN_ORDER",ze="UPDATE_LOCATION_INGREDIENT_IN_ORDER",Ke="OPEN_MODAL_DETAILS",We="CLOSE_MODAL_DETAILS";function Xe(){return function(e){e(Qe()),fetch("".concat(y,"ingredients")).then((function(t){if(!t.ok)throw e(Ye()),new Error("Network response was not OK");return t.json()})).then((function(t){e(Ze(t.success,t.data))})).catch((function(t){e(Ye()),console.error("There has been a problem with fetch operation:",t)}))}}var Ye=function(){return{type:Ge}},Qe=function(){return{type:Ae}},Ze=function(e,t){return{type:qe,success:e,ingredients:t}},$e=n(49),et=n.n($e),tt=function(e){var t=e._id,n=_((function(e){return e.ingredient})),r=n.ingredients,c=n.ingredientsInOrder,s=r.filter((function(e){return e._id===t}))[0],a=s.name,l=s.image,d=s.price,j=h(),b=c.filter((function(e){return e._id===t})).length,p=Object(u.h)(),f=function(e){j(function(e){return{type:Ke,_id:e}}(e))},m=Object(Be.a)({type:Ue.Ingredient,item:{_id:t},collect:function(e){return{opacity:e.isDragging()?.5:1}}}),g=Object(v.a)(m,2),x=g[0].opacity,y=g[1];return Object(O.jsx)(o.b,{onClick:function(){return f(t)},to:{pathname:"/ingredients/".concat(t),state:{modal:p}},children:Object(O.jsxs)("div",{ref:y,style:{opacity:x},className:"".concat(et.a.card," pr-4 pl-4"),children:[b>0&&Object(O.jsx)(i.Counter,{count:b,size:"default"}),Object(O.jsx)("img",{src:l,alt:a}),Object(O.jsxs)("span",{className:"".concat(et.a.price," mt-1 mb-1 text text_type_digits-default"),children:[d," ",Object(O.jsx)(i.CurrencyIcon,{type:"primary"})]}),Object(O.jsx)("span",{className:"".concat(et.a.name," text text_type_main-default"),children:a})]})},t)},nt=n(28),rt=n.n(nt),ct=function(){var e=Object(f.c)((function(e){return e.ingredient})).ingredients,t=["bun","sauce","main"],n=Object(r.useRef)(null),c=Object(r.useRef)(null),s=Object(r.useRef)(null),a=Object(r.useRef)(null),o=Object(r.useState)("bun"),u=Object(v.a)(o,2),l=u[0],j=u[1],b=function(e){var t,n,r;(j(e),"bun"===e)&&(null===(t=a.current)||void 0===t||t.scrollToTop());"sauce"===e&&c&&c.current&&(null===(n=a.current)||void 0===n||n.scrollTop(c.current.offsetTop));"main"===e&&s&&s.current&&(null===(r=a.current)||void 0===r||r.scrollTop(s.current.offsetTop))},p=function(){var e,t,n,r=(null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.getScrollTop())||0,o=r?r+230:0,i=(null===c||void 0===c||null===(t=c.current)||void 0===t?void 0:t.offsetTop)||0,u=(null===s||void 0===s||null===(n=s.current)||void 0===n?void 0:n.offsetTop)||0;j(o>=u?"main":o>=i?"sauce":"bun")};return Object(O.jsxs)("section",{className:"".concat(rt.a.root," mb-10"),children:[Object(O.jsx)("h1",{className:"text text_type_main-large mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("nav",{className:d()(rt.a.tabs,"mb-10"),children:t.map((function(e,t){return Object(O.jsx)(i.Tab,{value:e,active:l===e,onClick:b,children:"bun"===e?"\u0411\u0443\u043b\u043a\u0438":"sauce"===e?"\u0421\u043e\u0443\u0441\u044b":"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"},"tab".concat(t).concat(e))}))}),Object(O.jsx)(Le.Scrollbars,{renderTrackVertical:function(e){var t=Object.assign({},e);return Object(O.jsx)("div",Object(x.a)(Object(x.a)({},t),{},{className:rt.a.scrollTrackVertical}))},renderThumbVertical:function(e){var t=Object.assign({},e);return Object(O.jsx)("div",Object(x.a)(Object(x.a)({},t),{},{className:rt.a.scrollThumbVertical}))},ref:a,thumbSize:230,className:rt.a.contentInScroll,onScroll:p,autoHeight:!0,autoHeightMax:716,children:t.map((function(t,r){return Object(O.jsxs)("div",{ref:"bun"===t?n:"sauce"===t?c:s,children:[Object(O.jsx)("h2",{children:"bun"===t?"\u0411\u0443\u043b\u043a\u0438":"sauce"===t?"\u0421\u043e\u0443\u0441\u044b":"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(O.jsx)("section",{className:"".concat(rt.a.ingredients," mt-6 mb-10 mr-4 ml-4"),children:e.filter((function(e){return e.type===t})).map((function(e){var t=e._id;return Object(O.jsx)(tt,{_id:t},t)}))})]},"".concat(r).concat(t))}))})]})]})},st=n.p+"static/media/check.2022ce2b.svg",at=n(74),ot=n.n(at),it=function(){var e=Object(f.c)((function(e){return e.order})).number;return Object(O.jsxs)("section",{className:"".concat(ot.a.content," mt-20 mb-20"),children:[Object(O.jsx)("span",{className:"".concat(ot.a.orderNumber," text text_type_digits-large"),children:e}),Object(O.jsx)("span",{className:"mt-8 mb-15 text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(O.jsx)("img",{src:st,alt:"check"}),Object(O.jsx)("span",{className:"mt-15 mb-2 text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(O.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},ut=n(102),lt=n.n(ut),dt=function(e){var t=Object(r.useRef)(null);return Object(O.jsx)("div",{ref:t,onClick:function(n){var r;null===n||void 0===n||n.stopPropagation(),(null===(r=t.current)||void 0===r?void 0:r.className)===(null===n||void 0===n?void 0:n.target).className&&e.onOverlayClick()},className:lt.a.root,children:e.children})},jt=n(50),bt=n.n(jt),Ot=document.getElementById("modals")||document.body,pt=function(e){var t=Object(r.useMemo)((function(){return document.createElement("div")}),[]);Object(r.useEffect)((function(){return Ot.insertAdjacentElement("beforeend",t),function(){Ot.removeChild(t)}}),[t]);var n=Object(r.useCallback)((function(t){"Escape"===t.key&&(null===e||void 0===e||e.onClose())}),[e]);return Object(r.useEffect)((function(){return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[n]),a.a.createPortal(Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(dt,{onOverlayClick:e.onClose,children:Object(O.jsxs)("div",{className:"".concat(bt.a.modal," pt-10 pl-10 pb-15 pr-10"),children:[Object(O.jsx)("div",{className:"".concat(bt.a.close," pt-15 pr-10"),onClick:e.onClose,children:Object(O.jsx)(i.CloseIcon,{type:"primary"})}),Object(O.jsx)("h1",{className:"".concat(bt.a.head," text text_type_main-large"),children:e.header}),e.children]})})}),t)},ft="GET_ORDER",mt="POST_ORDER_NUMBER_REQUEST",ht="GET_ORDER_NUMBER_SUCCESS",_t="GET_ORDER_NUMBER_FAILED";function gt(e,t){return function(n){n(vt()),fetch("".concat(y,"orders"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({ingredients:e})}).then((function(e){if(!e.ok)throw n(yt()),new Error("Network response was not OK");return e.json()})).then((function(e){n(Tt(e.success,e.order.number)),n({type:Me})})).catch((function(e){n(yt()),console.error("There has been a problem with fetch operation:",e)}))}}var xt,vt=function(){return{type:mt}},yt=function(){return{type:_t}},Tt=function(e,t){return{type:ht,success:e,value:t}},St=n(221),It=n(75),Nt=n.n(It),Et=function(e){var t=e.index,n=e.moveInOrder,c=e.position,s=e._id,a=_((function(e){return e.ingredient})).ingredientsInOrder.filter((function(e){return e._id===s}))[0],o=a.type,u=a.name,l=a.price,j=a.image,b=a.id,p=h(),f=Object(r.useRef)(null),m=Object(St.a)({accept:Ue.IngredientInOrder,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,r){var c;if(f.current){var s=e.index,a=null!==t&&void 0!==t?t:0;if(s!==a){var o=null===(c=f.current)||void 0===c?void 0:c.getBoundingClientRect(),i=(o.bottom-o.top)/2,u=r.getClientOffset().y-o.top;s<a&&u<i||s>a&&u>i||(null===n||void 0===n||n(s,a),e.index=a)}}}}),g=Object(v.a)(m,2),x=g[0].handlerId,y=g[1],T=Object(Be.a)({type:Ue.IngredientInOrder,item:function(){return{id:b,index:t}},collect:function(e){return{isDragging:e.isDragging()}}}),S=Object(v.a)(T,2),I=S[0].isDragging;(0,S[1])(y(f));var N=I?0:1;return"bun"===o?Object(O.jsx)("div",{className:Nt.a.bunTopBottom,children:Object(O.jsx)(i.ConstructorElement,{type:"top"===c?Pe.Top:Pe.Bottom,isLocked:!0,text:"".concat(u," (").concat("top"===c?"\u0432\u0435\u0440\u0445":"\u043d\u0438\u0437",")"),price:l,thumbnail:j})}):Object(O.jsxs)("div",{ref:f,style:{opacity:N},className:d()(Nt.a.fillings,"mb-4 mr-4 ml-4"),"data-handler-id":x,children:[Object(O.jsx)(i.DragIcon,{type:"primary"}),Object(O.jsx)(i.ConstructorElement,{isLocked:"bun"===o,text:u,price:l,thumbnail:j,handleClose:function(){return p(function(e){return{type:Ve,_id:e}}(s))}})]})},kt=n(222),wt=n.p+"static/media/load.aad0b153.svg",Rt=n(76),Ct=n.n(Rt),Dt=function(){return Object(O.jsxs)("div",{className:Ct.a.wrap,children:["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ",Object(O.jsx)("img",{className:Ct.a.image,src:wt,alt:"loading"})]})},Ft=n(21),Pt=n.n(Ft),Ut=function(){var e=_((function(e){return e.ingredient})),t=e.ingredients,n=e.ingredientsInOrder,c=_((function(e){return e.order})),s=c.orderSuccess,a=c.orderRequest,o=_((function(e){return e.user})).authorized,l=Object(u.g)(),d=o,j=Object(r.useState)(!1),b=Object(v.a)(j,2),p=b[0],f=b[1],m=Object(r.useMemo)((function(){return n.reduce((function(e,t){var n=t.type,r=t.price;return"bun"===n?e+2*r:e+r}),0)}),[n]),g=h(),y=Object(r.useMemo)((function(){return n.some((function(e){return"bun"===e.type}))}),[n]),T=n.map((function(e){return null===e||void 0===e?void 0:e._id})),S=Object(r.useCallback)((function(e){var n,r,c,s=t.filter((function(t){return t._id===e._id}))[0],a=Object(kt.a)();g((n="bun"===s.type?Je:He,r=a,c=e._id,{type:n,id:r,_id:c}))}),[g,t]),I=Object(St.a)({accept:Ue.Ingredient,drop:function(e){S(e)}}),N=Object(v.a)(I,2)[1],E=Object(r.useCallback)((function(e,t){g(function(e,t){return{type:ze,dragIndex:e,hoverIndex:t}}(e,t))}),[g]),k=function(e){return n.filter((function(e){return"bun"===e.type})).map((function(t,n){return Object(O.jsx)(Et,{position:e,index:n,_id:t._id},Object(kt.a)())}))};return Object(O.jsxs)(O.Fragment,{children:[p?Object(O.jsxs)(pt,{onClose:function(){return f(!1)},children:[a&&Object(O.jsx)(Dt,{}),s&&Object(O.jsx)(it,{})]}):null,Object(O.jsx)("section",{className:"".concat(Pt.a.root," pt-25"),children:Object(O.jsx)("div",{ref:N,className:"".concat(Pt.a.content," mb-10"),children:n.length>0?Object(O.jsxs)(O.Fragment,{children:[k("top"),Object(O.jsx)(Le.Scrollbars,{renderTrackVertical:function(e){var t=Object.assign({},e);return Object(O.jsx)("div",Object(x.a)(Object(x.a)({},t),{},{className:Pt.a.scrollTrackVertical}))},renderThumbVertical:function(e){var t=Object.assign({},e);return Object(O.jsx)("div",Object(x.a)(Object(x.a)({},t),{},{className:Pt.a.scrollThumbVertical}))},autoHeight:!0,autoHeightMin:72,autoHeightMax:425,className:"".concat(Pt.a.contentInScroll),children:n.map((function(e,t){return"bun"!==e.type&&Object(O.jsx)(Et,{moveInOrder:E,index:t,_id:e._id},e.id)}))}),k("bottom"),Object(O.jsxs)("div",{className:"".concat(Pt.a.totalPrice," mb-10"),children:[m>0&&Object(O.jsxs)("span",{className:"".concat(Pt.a.price," text text_type_digits-medium"),children:[m," ",Object(O.jsx)(i.CurrencyIcon,{type:"primary"})]}),Object(O.jsx)(i.Button,{type:"primary",size:"medium",onClick:function(){d?(f(!0),g(function(e){return{type:ft,ingredientIds:e}}(T))):l.push("/login")},disabled:!y,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]}):Object(O.jsx)("div",{className:Pt.a.emptyCart,children:Object(O.jsx)(i.BurgerIcon,{type:"primary"})})})})]})},Lt=n(106),Bt=n(219),At=(n(211),n(212),function(){var e=_((function(e){return e.ingredient})),t=e.ingredients,n=e.ingredientsSuccess,c=e.ingredientsRequest,s=e.ingredientsFailed,a=m();return Object(r.useEffect)((function(){a(Xe())}),[a]),Object(O.jsxs)("main",{children:[s&&Object(O.jsx)("p",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"}),c&&Object(O.jsx)(Dt,{}),n&&t.length>0&&Object(O.jsxs)(Bt.a,{backend:Lt.a,children:[Object(O.jsx)(ct,{}),Object(O.jsx)(Ut,{})]})]})}),qt=n(51),Gt=n.n(qt),Ht=function(e){var t=e.type,n=_((function(e){return e.ingredient})),c=n.ingredients,s=n.ingredientsSuccess,a="page"===t,o=Object(u.i)().id,i=m();return Object(r.useEffect)((function(){a&&i(Xe())}),[a,i]),Object(O.jsx)(O.Fragment,{children:s&&c.length>0&&c.filter((function(e){return e._id===o})).map((function(e){var t=e.image,n=e.name,r=e.calories,c=e.proteins,s=e.fat,a=e.carbohydrates,o=e._id;return Object(O.jsxs)("section",{className:Gt.a.content,children:[Object(O.jsx)("img",{className:"".concat(Gt.a.imageCard," pr-5 pl-5"),src:t,alt:n}),Object(O.jsx)("p",{className:"text text_type_main-medium mt-4 mt-8",children:n}),Object(O.jsxs)("div",{className:"".concat(Gt.a.description," mt-8"),children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(O.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:r})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(O.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:c})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(O.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:s})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(O.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:a})]})]})]},o)}))})},Vt=function(){return Object(O.jsx)("div",{children:"Profile Orders"})},Mt=n(48),Jt=["children"],zt=function(e){var t=e.children,n=Object(Mt.a)(e,Jt),r=Object(f.c)((function(e){return e.user})).authorized,c=Object(u.h)(),s=c.pathname,a=c.state;return Object(O.jsx)(u.b,Object(x.a)(Object(x.a)({},n),{},{render:function(){return r?t:Object(O.jsx)(u.a,{to:{pathname:(null===a||void 0===a?void 0:a.from)||"/login",state:{from:s}}})}}))},Kt=["children","type"],Wt=function(e){var t=e.children,n=e.type,r=Object(Mt.a)(e,Kt),c=Object(f.c)((function(e){return e.user})).authorized,s=Object(u.h)(),a=s.pathname,o=s.state,i="/forgot-password"===(null===o||void 0===o?void 0:o.from),l=a.includes("reset-password");return!i&&l?Object(O.jsx)(u.a,{to:{pathname:"/forgot-password"}}):Object(O.jsx)(u.b,Object(x.a)(Object(x.a)({},r),{},{render:function(){return"guest"!==n||c?Object(O.jsx)(u.a,{to:{pathname:(null===o||void 0===o?void 0:o.from)||"/",state:{from:a}}}):t}}))},Xt=function(){var e,t=h(),n=Object(u.h)(),r=n.state&&(null===(e=n.state)||void 0===e?void 0:e.modal),c=Object(u.g)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.d,{location:r||n,children:[Object(O.jsx)(u.b,{path:"/",exact:!0,children:Object(O.jsx)(At,{})}),Object(O.jsx)(u.b,{path:"/ingredients/:id",children:Object(O.jsx)(Ht,{type:"page"})}),Object(O.jsx)(Wt,{path:"/login",exact:!0,type:"guest",children:Object(O.jsx)(we,{})}),Object(O.jsx)(Wt,{path:"/register",exact:!0,type:"guest",children:Object(O.jsx)(De,{})}),Object(O.jsx)(Wt,{path:"/forgot-password",exact:!0,type:"guest",children:Object(O.jsx)(Ce,{})}),Object(O.jsx)(Wt,{path:"/reset-password",exact:!0,type:"guest",children:Object(O.jsx)(Fe,{})}),Object(O.jsx)(zt,{path:"/profile",exact:!0,children:Object(O.jsx)(Re,{})}),Object(O.jsx)(zt,{path:"/profile/orders",exact:!0,children:Object(O.jsx)(Vt,{})})]}),r&&Object(O.jsx)(u.b,{path:"/ingredients/:id",children:Object(O.jsx)(pt,{onClose:function(e){null===e||void 0===e||e.stopPropagation(),c.goBack(),t({type:We})},header:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",children:Object(O.jsx)(Ht,{})})})]})},Yt=function(){return Object(O.jsxs)(o.a,{children:[Object(O.jsx)(p,{}),Object(O.jsx)(Xt,{})]})},Qt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))},Zt=n(23),$t=n(105),en=n(32),tn={orderRequest:!1,orderFailed:!1,orderSuccess:!1,number:null},nn={loginRequest:!1,loginFailed:!1,loginSuccess:!1,logoutRequest:!1,logoutFailed:!1,logoutSuccess:!1,tokenRequest:!1,tokenFailed:!1,tokenSuccess:!1,getUserInfoRequest:!1,getUserInfoFailed:!1,getUserInfoSuccess:!1,patchUserInfoRequest:!1,patchUserInfoFailed:!1,patchUserInfoSuccess:!1,registerRequest:!1,registerFailed:!1,registerSuccess:!1,resetPasswordRequest:!1,resetPasswordFailed:!1,resetPasswordSuccess:!1,accessToken:void 0,refreshToken:void 0,authorized:!1,user:JSON.parse(null!==(xt=localStorage.getItem("user"))&&void 0!==xt?xt:"null")},rn=n(103),cn=n.n(rn),sn={ingredientsRequest:!1,ingredientsFailed:!1,ingredientsSuccess:!1,openIngredientId:null,ingredients:[],ingredientsInOrder:[]},an=Object(Zt.b)({ingredient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(x.a)(Object(x.a)({},e),{},{ingredientsRequest:!0,ingredientsFailed:!1,ingredientsSuccess:!1});case qe:return Object(x.a)(Object(x.a)({},e),{},{ingredients:t.ingredients,ingredientsSuccess:t.success,ingredientsRequest:!1});case Ge:return Object(x.a)(Object(x.a)({},e),{},{ingredientsSuccess:!1,ingredientsRequest:!1,ingredientsFailed:!0});case He:return Object(x.a)(Object(x.a)({},e),{},{ingredientsInOrder:[].concat(Object(en.a)(e.ingredientsInOrder),Object(en.a)(e.ingredients.filter((function(e){return e._id===t._id})).map((function(e){return e?Object(x.a)(Object(x.a)({},e),{},{id:t.id}):e}))))});case Je:return Object(x.a)(Object(x.a)({},e),{},{ingredientsInOrder:[].concat(Object(en.a)(e.ingredientsInOrder.filter((function(e){return"bun"!==e.type}))),Object(en.a)(e.ingredients.filter((function(e){return e._id===t._id}))))});case Ve:return Object(x.a)(Object(x.a)({},e),{},{ingredientsInOrder:Object(en.a)(e.ingredientsInOrder).filter((function(e,n,r){return n!==r.findIndex((function(e){return e._id===t._id}))}))});case Me:return Object(x.a)(Object(x.a)({},e),{},{ingredientsInOrder:[]});case ze:return Object(x.a)(Object(x.a)({},e),{},{ingredientsInOrder:cn()(e.ingredientsInOrder,{$splice:[[t.dragIndex,1],[t.hoverIndex,0,e.ingredientsInOrder[t.dragIndex]]]})});case Ke:return Object(x.a)(Object(x.a)({},e),{},{openIngredientId:t._id});case We:return Object(x.a)(Object(x.a)({},e),{},{openIngredientId:e.openIngredientId=null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:return Object(x.a)(Object(x.a)({},e),{},{orderRequest:!0,orderSuccess:!1,orderFailed:!1});case ht:return Object(x.a)(Object(x.a)({},e),{},{number:t.value,orderSuccess:t.success,orderRequest:!1});case _t:return Object(x.a)(Object(x.a)({},e),{},{orderRequest:!1,orderSuccess:!1,orderFailed:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return e;case T:return Object(x.a)(Object(x.a)({},e),{},{authorized:!0});case w:return Object(x.a)(Object(x.a)({},e),{},{loginRequest:!0,loginSuccess:!1,loginFailed:!1});case R:var n={refreshToken:t.refreshToken,accessToken:t.accessToken};return localStorage.setItem("tokens",JSON.stringify(n)),localStorage.setItem("user",JSON.stringify({email:t.user.email,name:t.user.name})),Object(x.a)(Object(x.a)({},e),{},{accessToken:t.accessToken,refreshToken:t.refreshToken,loginSuccess:t.success,user:t.user,loginRequest:!1,authorized:!0});case C:return Object(x.a)(Object(x.a)({},e),{},{loginRequest:!1,loginSuccess:!1,loginFailed:!0});case D:return Object(x.a)(Object(x.a)({},e),{},{logoutRequest:!0,logoutSuccess:!1,logoutFailed:!1});case F:return localStorage.clear(),Object(x.a)(Object(x.a)({},e),{},{logoutSuccess:!0,logoutRequest:!1,user:null,authorized:!1});case P:return Object(x.a)(Object(x.a)({},e),{},{logoutRequest:!1,logoutSuccess:!1,logoutFailed:!0});case U:return Object(x.a)(Object(x.a)({},e),{},{tokenRequest:!0,tokenSuccess:!1,tokenFailed:!1});case L:var r={refreshToken:t.refreshToken,accessToken:t.accessToken};return localStorage.setItem("tokens",JSON.stringify(r)),Object(x.a)(Object(x.a)({},e),{},{accessToken:t.accessToken,refreshToken:t.refreshToken,tokenSuccess:t.success,tokenRequest:!1});case B:return Object(x.a)(Object(x.a)({},e),{},{tokenRequest:!1,tokenSuccess:!1,tokenFailed:!0});case A:return Object(x.a)(Object(x.a)({},e),{},{getUserInfoRequest:!0,getUserInfoSuccess:!1,getUserInfoFailed:!1});case q:return Object(x.a)(Object(x.a)({},e),{},{user:t.user,getUserInfoSuccess:t.success,getUserInfoRequest:!1});case G:return Object(x.a)(Object(x.a)({},e),{},{getUserInfoRequest:!1,getUserInfoSuccess:!1,getUserInfoFailed:!0});case H:return Object(x.a)(Object(x.a)({},e),{},{patchUserInfoRequest:!0,patchUserInfoSuccess:!1,patchUserInfoFailed:!1});case M:return Object(x.a)(Object(x.a)({},e),{},{user:t.user,patchUserInfoSuccess:t.success,patchUserInfoRequest:!1});case V:return Object(x.a)(Object(x.a)({},e),{},{patchUserInfoRequest:!1,patchUserInfoSuccess:!1,patchUserInfoFailed:!0});case J:return Object(x.a)(Object(x.a)({},e),{},{registerRequest:!0,registerSuccess:!1,registerFailed:!1});case z:return Object(x.a)(Object(x.a)({},e),{},{accessToken:t.accessToken,refreshToken:t.refreshToken,registerSuccess:t.success,registerRequest:!1});case K:return Object(x.a)(Object(x.a)({},e),{},{registerRequest:!1,registerSuccess:!1,registerFailed:!0});case W:return Object(x.a)(Object(x.a)({},e),{},{resetPasswordRequest:!0,resetPasswordSuccess:!1,resetPasswordFailed:!1});case Y:return Object(x.a)(Object(x.a)({},e),{},{resetPasswordSuccess:t.success,resetPasswordRequest:!1});case X:return Object(x.a)(Object(x.a)({},e),{},{resetPasswordRequest:!1,resetPasswordSuccess:!1,resetPasswordFailed:!0});default:return e}}}),on=n(104),un=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Zt.c)(Object(Zt.a)((function(e){return function(t){return function(n){var r,c,s=null!==(r=localStorage.getItem("tokens"))&&void 0!==r?r:null;if(null!==s){var a=JSON.parse(s),o=a.accessToken,i=a.refreshToken,u=Object(on.a)(o),l=u&&u.exp<Date.now()/1e3;switch(n.type){case S:t({type:T});break;case E:l?(t(te({refreshToken:i,accessToken:o})),setTimeout((function(){t(ee({refreshToken:e.getState().user.refreshToken}))}),1e3)):t(ee({refreshToken:i}));break;case I:l?(t(te({refreshToken:i,accessToken:o})),setTimeout((function(){t(ne({accessToken:e.getState().user.accessToken}))}),1e3)):t(ne({accessToken:o}));break;case k:l?(t(te({refreshToken:i,accessToken:o})),setTimeout((function(){var r;t(re(n.user,null!==(r=e.getState().user.accessToken)&&void 0!==r?r:o))}),1e3)):t(re(n.user,o));break;case ft:l?(t(te({refreshToken:i,accessToken:o})),setTimeout((function(){var r;t(gt(n.ingredientIds,null!==(r=e.getState().user.accessToken)&&void 0!==r?r:o))}),1e3)):t(gt(n.ingredientIds,o))}}else if(n.type===N)return void t((c=n.user,function(e){e(ce()),fetch("".concat(y,"auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(t){if(!t.ok)throw e(se()),new Error("Network response was not OK");return t.json()})).then((function(t){e(ae(t.success,t.accessToken,t.refreshToken,{email:t.user.email,name:t.user.name}))})).catch((function(t){e(se()),console.error("There has been a problem with fetch operation:",t)}))}));t(n)}}}),$t.a)),ln=Object(Zt.d)(an,un);ln.dispatch({type:S}),a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(f.a,{store:ln,children:Object(O.jsx)(Yt,{})})}),document.getElementById("root")),Qt()},27:function(e,t,n){e.exports={header:"Header_header__1WL4t",navigation:"Header_navigation__Q4RU8",content:"Header_content__2KnVC",links:"Header_links__PoTI8",logo:"Header_logo__2K2u1"}},28:function(e,t,n){e.exports={root:"BurgerIngredients_root__3V62U",tabs:"BurgerIngredients_tabs__1b38V",contentInScroll:"BurgerIngredients_contentInScroll__25t9G",scrollTrackVertical:"BurgerIngredients_scrollTrackVertical__G5jr6",scrollThumbVertical:"BurgerIngredients_scrollThumbVertical__Hboh8",ingredients:"BurgerIngredients_ingredients__2wnGa"}},49:function(e,t,n){e.exports={card:"IngredientInList_card__1-ZGK",price:"IngredientInList_price__1W7OA",name:"IngredientInList_name__2H5-y"}},50:function(e,t,n){e.exports={modal:"Modal_modal__1ZJHi",close:"Modal_close__3BxHY",head:"Modal_head__3-MyG"}},51:function(e,t,n){e.exports={description:"IngredientDetails_description__2TvCn",imageCard:"IngredientDetails_imageCard__2plH6",content:"IngredientDetails_content__2kMLt"}},74:function(e,t,n){e.exports={orderNumber:"OrderDetails_orderNumber__1gEON",content:"OrderDetails_content__1XYB0"}},75:function(e,t,n){e.exports={fillings:"IngredientInOrder_fillings__1a539",bunTopBottom:"IngredientInOrder_bunTopBottom__1PWIL"}},76:function(e,t,n){e.exports={wrap:"Loader_wrap__1KBmP",image:"Loader_image__JMj5m"}}},[[213,1,2]]]);
//# sourceMappingURL=main.82faf8e3.chunk.js.map